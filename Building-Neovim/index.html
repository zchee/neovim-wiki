



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Neovim Wiki">
      
      
        <link rel="canonical" href="https://zchee.github.io/neovim-wiki/Building-Neovim/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Building-Neovim - Neovim Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-89201129-1", "https://zchee.github.io/neovim-wiki/")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#quick-start" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://zchee.github.io/neovim-wiki/" title="Neovim Wiki" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Neovim Wiki
            </span>
            <span class="md-header-nav__topic">
              
                Building-Neovim
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/zchee/neovim-wiki/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    zchee/neovim-wiki
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://zchee.github.io/neovim-wiki/" title="Neovim Wiki" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Neovim Wiki
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/zchee/neovim-wiki/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    zchee/neovim-wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../Home/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Architectural-musing-and-ideas/" title="Architectural-musing-and-ideas" class="md-nav__link">
      Architectural-musing-and-ideas
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Building-Neovim
      </label>
    
    <a href="./" title="Building-Neovim" class="md-nav__link md-nav__link--active">
      Building-Neovim
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    Quick start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    Running tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    Building
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows-msvc" class="md-nav__link">
    Windows / MSVC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows-clion" class="md-nav__link">
    Windows / CLion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#localization" class="md-nav__link">
    Localization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#localization-build" class="md-nav__link">
    Localization build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localization-check" class="md-nav__link">
    Localization check
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localization-update" class="md-nav__link">
    Localization update
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiler-options" class="md-nav__link">
    Compiler options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xcode-and-msvc-project-files" class="md-nav__link">
    Xcode and MSVC project files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-makefile" class="md-nav__link">
    Custom Makefile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#third-party-dependencies" class="md-nav__link">
    Third-party dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-build-without-bundled-dependencies" class="md-nav__link">
    How to build without "bundled" dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-prerequisites" class="md-nav__link">
    Build prerequisites
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ubuntu-debian" class="md-nav__link">
    Ubuntu / Debian
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#centos-rhel-fedora" class="md-nav__link">
    CentOS / RHEL / Fedora
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opensuse" class="md-nav__link">
    openSUSE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arch-linux" class="md-nav__link">
    Arch Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nix-or-nixos" class="md-nav__link">
    Nix or NixOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#freebsd" class="md-nav__link">
    FreeBSD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openbsd" class="md-nav__link">
    OpenBSD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    macOS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-for-older-macos-versions" class="md-nav__link">
    Building for older macOS versions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cygwin" class="md-nav__link">
    cygwin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-msys2" class="md-nav__link">
    Windows / MSYS2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../C-programming/" title="C-programming" class="md-nav__link">
      C-programming
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../C-Refactorings-and-Code-Smells-Catalog/" title="C-Refactorings-and-Code-Smells-Catalog" class="md-nav__link">
      C-Refactorings-and-Code-Smells-Catalog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Code-overview/" title="Code-overview" class="md-nav__link">
      Code-overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Code-review-checklist/" title="Code-review-checklist" class="md-nav__link">
      Code-review-checklist
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Deps/" title="Deps" class="md-nav__link">
      Deps
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Development-tips/" title="Development-tips" class="md-nav__link">
      Development-tips
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Following-HEAD/" title="Following-HEAD" class="md-nav__link">
      Following-HEAD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Generate-callgraphs-with-Doxygen/" title="Generate-callgraphs-with-Doxygen" class="md-nav__link">
      Generate-callgraphs-with-Doxygen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GSoC-2018-Ideas/" title="GSoC-2018-Ideas" class="md-nav__link">
      GSoC-2018-Ideas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GSoC-2019-Ideas/" title="GSoC-2019-Ideas" class="md-nav__link">
      GSoC-2019-Ideas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GSoC/" title="GSoC" class="md-nav__link">
      GSoC
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Installing-Neovim/" title="Installing-Neovim" class="md-nav__link">
      Installing-Neovim
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Integer-types-refactoring-guidelines/" title="Integer-types-refactoring-guidelines" class="md-nav__link">
      Integer-types-refactoring-guidelines
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../List-management-in-Neovim/" title="List-management-in-Neovim" class="md-nav__link">
      List-management-in-Neovim
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Merging-patches-from-upstream-Vim/" title="Merging-patches-from-upstream-Vim" class="md-nav__link">
      Merging-patches-from-upstream-Vim
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Plugin-UI-architecture/" title="Plugin-UI-architecture" class="md-nav__link">
      Plugin-UI-architecture
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Progress/" title="Progress" class="md-nav__link">
      Progress
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Refactor-Vim-into-a-library/" title="Refactor-Vim-into-a-library" class="md-nav__link">
      Refactor-Vim-into-a-library
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Refactoring/" title="Refactoring" class="md-nav__link">
      Refactoring
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Related-projects/" title="Related-projects" class="md-nav__link">
      Related-projects
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../UI-architecture/" title="UI-architecture" class="md-nav__link">
      UI-architecture
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Unit-tests/" title="Unit-tests" class="md-nav__link">
      Unit-tests
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    Quick start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    Running tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    Building
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows-msvc" class="md-nav__link">
    Windows / MSVC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows-clion" class="md-nav__link">
    Windows / CLion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#localization" class="md-nav__link">
    Localization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#localization-build" class="md-nav__link">
    Localization build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localization-check" class="md-nav__link">
    Localization check
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localization-update" class="md-nav__link">
    Localization update
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiler-options" class="md-nav__link">
    Compiler options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xcode-and-msvc-project-files" class="md-nav__link">
    Xcode and MSVC project files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-makefile" class="md-nav__link">
    Custom Makefile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#third-party-dependencies" class="md-nav__link">
    Third-party dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-build-without-bundled-dependencies" class="md-nav__link">
    How to build without "bundled" dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-prerequisites" class="md-nav__link">
    Build prerequisites
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ubuntu-debian" class="md-nav__link">
    Ubuntu / Debian
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#centos-rhel-fedora" class="md-nav__link">
    CentOS / RHEL / Fedora
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opensuse" class="md-nav__link">
    openSUSE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arch-linux" class="md-nav__link">
    Arch Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nix-or-nixos" class="md-nav__link">
    Nix or NixOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#freebsd" class="md-nav__link">
    FreeBSD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openbsd" class="md-nav__link">
    OpenBSD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    macOS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-for-older-macos-versions" class="md-nav__link">
    Building for older macOS versions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cygwin" class="md-nav__link">
    cygwin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-msys2" class="md-nav__link">
    Windows / MSYS2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/zchee/neovim-wiki/edit/master/docs/Building-Neovim.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Building-Neovim</h1>
                
                <ul>
<li>Before upgrading to a new version, <strong>always check <a href="Following-HEAD">Following HEAD</a>.</strong></li>
</ul>
<hr />
<ul>
<li><a href="#quick-start">Quick start</a></li>
<li><a href="#running-tests">Running tests</a></li>
<li><a href="#building">Building</a></li>
<li><a href="#windows--msvc">Windows / MSVC</a></li>
<li><a href="#localization">Localization</a></li>
<li><a href="#compiler-options">Compiler options</a></li>
<li><a href="#xcode-and-msvc-project-files">Xcode and MSVC project files</a></li>
<li><a href="#custom-makefile">Custom Makefile</a></li>
<li><a href="#third-party-dependencies">Third-party dependencies</a></li>
<li><a href="#build-prerequisites">Build prerequisites</a></li>
</ul>
<h2 id="quick-start">Quick start</h2>
<ol>
<li>Verify that you have the <a href="#build-prerequisites">build prerequisites</a> installed.</li>
<li>Clone <a href="https://github.com/neovim/neovim"><code>neovim/neovim</code></a>.<ul>
<li>If you want the <strong>stable release</strong>: <code>git checkout stable</code></li>
</ul>
</li>
<li>Build Neovim by running <code>make</code>. (On BSD use <code>gmake</code>. On Windows see <a href="#windows--msvc">MSVC</a>.)<ul>
<li>Set <code>CMAKE_INSTALL_PREFIX</code> if you want to <strong>install to a custom location</strong>. See <a href="https://github.com/neovim/neovim/wiki/Installing-Neovim#install-from-source">Installing Neovim</a>.</li>
</ul>
</li>
</ol>
<p>Other notes:</p>
<ul>
<li>Third-party dependencies (libuv, LuaJIT, etc.) are downloaded automatically to <code>.deps/</code>. See <a href="FAQ#build-issues">FAQ</a> if you have issues.</li>
<li>If you plan to develop Neovim, install <a href="https://ninja-build.org/">ninja</a> for faster builds. It will be used automatically.</li>
</ul>
<p>Now that you have the dependencies, you can try other build targets, explained below.</p>
<h2 id="running-tests">Running tests</h2>
<p>See <a href="https://github.com/neovim/neovim/blob/master/test/README.md">test/README.md</a></p>
<h2 id="building">Building</h2>
<p><em>Just <code>make</code> in the root of the repo will download and build all the needed dependencies and put the <code>nvim</code> executable at <code>build/bin</code>. Without installing, you can run it like this: <code>VIMRUNTIME=runtime ./build/bin/nvim</code>.</em></p>
<p>The build type determines the level of used compiler optimisations and debug information:</p>
<ul>
<li><code>Release</code>: Full compiler optimisations and no debug information. Expect the best performance from this build type. Often used by package maintainers.</li>
<li><code>Debug</code>: Full debug information; little optimisations. Use this for development to get meaningful output from debuggers like gdb or lldb. This is the default, if <code>CMAKE_BUILD_TYPE</code> is not specified.</li>
<li><code>RelWithDebInfo</code> ("Release With Debug Info"): Enables many optimisations and adds enough debug info so that when nvim ever crashes, you can still get a backtrace.</li>
</ul>
<p>So, for a release build, just use:</p>
<div class="highlight"><pre><span></span>make CMAKE_BUILD_TYPE=Release
</pre></div>

<p>Afterwards, the <code>nvim</code> executable can be found at <code>build/bin</code>. To verify the build type after compilation, run <code>./build/bin/nvim --version | grep ^Build</code>.</p>
<p>To install the executable to a certain location, use:</p>
<div class="highlight"><pre><span></span>make CMAKE_INSTALL_PREFIX=$HOME/local/nvim install
</pre></div>

<p>Cmake, our main build sytem, caches a lot of things in <code>build/CMakeCache.txt</code>. If you ever want to change <code>CMAKE_BUILD_TYPE</code> or <code>CMAKE_INSTALL_PREFIX</code>, run <code>rm -rf build</code> first.</p>
<p>By default (<code>USE_BUNDLED=1</code>), Nvim downloads and statically links its needed dependencies. In order to be able to use a debugger on these libraries, you might want to compile them with debug informations as well:</p>
<div class="highlight"><pre><span></span>make distclean
VERBOSE=1 DEBUG=1 make deps
</pre></div>

<p>(Here, <code>make distclean</code> is basically a shortcut for <code>rm -rf build .deps</code>.)</p>
<h2 id="windows-msvc">Windows / MSVC</h2>
<ol>
<li><a href="https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=Community">Install Visual Studio</a> (2017 or later) with the <em>Desktop development with C++</em> workload.<ul>
<li>On 32-bit Windows you need [this workaround].(<a href="https://developercommunity.visualstudio.com/content/problem/212989/ninja-binary-format.html">https://developercommunity.visualstudio.com/content/problem/212989/ninja-binary-format.html</a>)</li>
</ul>
</li>
<li>Open the Neovim project. Visual Studio automatically starts the build...</li>
<li><strong>IMPORTANT:</strong> Select <code>x86-Release</code> configuration instead of <code>x64-{Debug,Release}</code>.<ul>
<li>You can build with the <code>x64-Release</code> configuration if <code>cmake -G "Visual Studio 15 2017 Win64"</code> is used to build the dependencies. But the Debug configurations will not work because certain dependencies need to be linked with release version of the C runtime.</li>
</ul>
</li>
<li>If the build fails, it may be because VS started the build with <code>x64-{Debug,Release}</code> before you switched to <code>x86-Release</code>.<ul>
<li>Right-click <em>CMakeLists.txt → Delete Cache</em>.</li>
<li>Right-click <em>CMakeLists.txt → Generate Cache</em>.</li>
</ul>
</li>
</ol>
<h2 id="windows-clion">Windows / CLion</h2>
<ol>
<li>Install <a href="https://www.jetbrains.com/clion/">CLion</a>.</li>
<li>Open the Neovim project in CLion.</li>
<li>Select <em>Build → nvim.exe</em>.</li>
</ol>
<h2 id="localization">Localization</h2>
<h4 id="localization-build">Localization build</h4>
<p>A normal build will create <code>.mo</code> files in <code>build/src/nvim/po</code>.</p>
<ul>
<li>If you see <code>msgfmt: command not found</code>, you need to install <a href="http://en.wikipedia.org/wiki/Gettext"><code>gettext</code></a>. On most systems the package is just called <code>gettext</code>.</li>
</ul>
<h4 id="localization-check">Localization check</h4>
<p>To check the translations for <code>$LANG</code>, run <code>make -C build check-po-$LANG</code>. Examples:</p>
<pre><code>make -C build check-po-de
make -C build check-po-pt_BR
</code></pre>
<ul>
<li>Use <code>ninja</code> instead of <code>make</code> if applicable.</li>
<li><code>check-po-$LANG</code> generates a detailed report in <code>./build/src/nvim/po/check-${LANG}.log</code>. 
  (The report is generated by <code>nvim</code>, not by <code>msgfmt</code>.)</li>
</ul>
<h4 id="localization-update">Localization update</h4>
<p>To update the <code>src/nvim/po/$LANG.po</code> file with the latest strings, run the following:</p>
<pre><code>make -C build update-po-$LANG
</code></pre>
<ul>
<li>Replace <code>make</code> with <code>ninja</code> if applicable.</li>
<li><strong>Note:</strong> run <code>src/nvim/po/cleanup.vim</code> after updating.</li>
</ul>
<h2 id="compiler-options">Compiler options</h2>
<p>To see the chain of includes, use the <code>-H</code> option (<a href="https://github.com/neovim/neovim/issues/918">#918</a>):</p>
<div class="highlight"><pre><span></span>echo &#39;#include &quot;./src/nvim/buffer.h&quot;&#39; | \
&gt; clang -I.deps/usr/include -Isrc -std=c99 -P -E -H - 2&gt;&amp;1 &gt;/dev/null | \
&gt; grep -v /usr/
</pre></div>

<ul>
<li><code>grep -v /usr/</code> is used to filter out system header files</li>
<li><code>-save-temps</code> can be added as well to see expanded macros or commented assembly</li>
</ul>
<h2 id="xcode-and-msvc-project-files">Xcode and MSVC project files</h2>
<p>CMake has a <code>-G</code> option for exporting to multiple <a href="http://www.cmake.org/cmake/help/v2.8.8/cmake.html#section_Generators">project file formats</a>, such as Xcode and Visual Studio. </p>
<p>For example, to use Xcode's static analysis GUI (<a href="https://github.com/neovim/neovim/issues/167#issuecomment-36136018">#167</a>), you need to generate an Xcode project file from the Neovim makefile (where <code>neovim/</code> is the top-level Neovim source code directory containing the main <code>Makefile</code>):</p>
<pre><code>cmake -G Xcode neovim
</code></pre>
<p>then open the resulting project file in Xcode.</p>
<h2 id="custom-makefile">Custom Makefile</h2>
<p>You can customize the build process locally by creating a <code>local.mk</code>, which is referenced at the top of the main <code>Makefile</code>. It's listed in <code>.gitignore</code> so it can be used across branches. <strong>A new target in <code>local.mk</code> overrides the default make-target.</strong></p>
<p>Here's a sample <code>local.mk</code> which adds a target to force a rebuild but <em>does not</em> override the default-target:</p>
<div class="highlight"><pre><span></span><span class="nf">all</span><span class="o">:</span>

<span class="nf">rebuild</span><span class="o">:</span>
    rm -rf build
    make
</pre></div>

<h2 id="third-party-dependencies">Third-party dependencies</h2>
<p>Reference the <strong><a href="https://packages.debian.org/sid/source/neovim">Debian package</a></strong> (or alternatively the <a href="https://github.com/Homebrew/homebrew-core/blob/master/Formula/neovim.rb#L16-L27">Homebrew formula</a>) for the precise list of dependencies/versions.</p>
<p>To build the bundled dependencies using CMake:</p>
<div class="highlight"><pre><span></span>mkdir .deps
<span class="nb">cd</span> .deps
cmake ../third-party
make
</pre></div>

<p>By default the libraries and headers are placed in <code>.deps/usr</code>. Now you can build Nvim:</p>
<div class="highlight"><pre><span></span>mkdir build
<span class="nb">cd</span> build
cmake ..
make
</pre></div>

<h3 id="how-to-build-without-bundled-dependencies">How to build without "bundled" dependencies</h3>
<ol>
<li>Install the dependencies manually. For example on Debian/Ubuntu:
   <div class="highlight"><pre><span></span>sudo apt install gperf libluajit-5.1-dev libunibilium-dev libmsgpack-dev libtermkey-dev libvterm-dev libjemalloc-dev lua5.1 lua-lpeg lua-mpack lua-bitop
</pre></div></li>
<li>Do the "CMake dance": create a <code>build</code> directory, switch to it and run CMake:
   <div class="highlight"><pre><span></span>mkdir build
cd build
cmake ..
</pre></div></li>
<li>Run <code>make</code>, <code>ninja</code>, or whatever build tool you <a href="#xcode-and-msvc-project-files">told CMake to generate for</a>.</li>
<li>Using <code>ninja</code> is strongly recommended.</li>
</ol>
<h2 id="build-prerequisites">Build prerequisites</h2>
<p>General requirements (see <a href="https://github.com/neovim/neovim/issues/1469#issuecomment-63058312">#1469</a>):</p>
<ul>
<li>Clang or GCC version <code>4.4+</code></li>
<li>CMake version <code>2.8.12+</code>, built with TLS/SSL support</li>
<li>Optional: to get the latest CMake there are <a href="https://github.com/Kitware/CMake/releases">installers</a> or a <a href="https://pypi.org/project/cmake/">Python package</a> (<code>pip install cmake</code>)</li>
</ul>
<p>Platform-specific requirements are listed below.</p>
<h4 id="ubuntu-debian">Ubuntu / Debian</h4>
<pre><code>sudo apt-get install ninja-build gettext libtool libtool-bin autoconf automake cmake g++ pkg-config unzip
</code></pre>
<p>Note: <code>libtool-bin</code> is only required for Ubuntu 16.04/Debian Jessie and newer.</p>
<h4 id="centos-rhel-fedora">CentOS / RHEL / Fedora</h4>
<p>If you're using CentOS/RHEL 6 you need at least autoconf version 2.69 for
compiling the libuv dependency. See <a href="https://github.com/joyent/libuv/issues/1158">https://github.com/joyent/libuv/issues/1158</a>.</p>
<pre><code>sudo yum -y install ninja-build libtool autoconf automake cmake gcc gcc-c++ make pkgconfig unzip patch
</code></pre>
<h4 id="opensuse">openSUSE</h4>
<pre><code>sudo zypper install ninja libtool autoconf automake cmake gcc-c++ gettext-tools
</code></pre>
<h4 id="arch-linux">Arch Linux</h4>
<pre><code>sudo pacman -S base-devel cmake unzip ninja
</code></pre>
<h4 id="nix-or-nixos">Nix or NixOS</h4>
<p>Starting from nixos 18.03, the neovim binary resides in the <code>neovim-unwrapped</code> nix package (the <code>neovim</code> package being just a wrapper to setup runtime options like ruby/python support):</p>
<pre><code>cd path/to/neovim/src
</code></pre>
<p>Drop into nix shell to pull in the neovim dependencies</p>
<pre><code>nix-shell '&lt;nixpkgs&gt;' -A neovim-unwrapped
</code></pre>
<p>Configure and Build</p>
<div class="highlight"><pre><span></span>cmakeConfigurePhase
buildPhase
</pre></div>

<p>Tests are not available by default because of some unfixed failures. You can enable them via adding this package in your overlay:
<div class="highlight"><pre><span></span>  neovim-dev = (super.pkgs.neovim-unwrapped.override  {
    doCheck=true;
  }).overrideAttrs(oa:{
    cmakeBuildType=&quot;debug&quot;;

    nativeBuildInputs = oa.nativeBuildInputs ++ [ self.pkgs.valgrind ];
    shellHook = &#39;&#39;
      export NVIM_PYTHON_LOG_LEVEL=DEBUG
      export NVIM_LOG_FILE=/tmp/log
      export VALGRIND_LOG=&quot;$PWD/valgrind.log&quot;
    &#39;&#39;;
  });
</pre></div>
and replacing neovim-unwrapped by neovim-dev: <code>$ nix-shell '&lt;nixpkgs&gt;' -A neovim-dev</code></p>
<h4 id="freebsd">FreeBSD</h4>
<pre><code>sudo pkg install cmake gmake libtool sha automake pkgconf unzip wget gettext
</code></pre>
<p>If you get an error regarding a sha256sum mismatch, where
the actual sha256sum is <code>e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855</code>, then this is your issue (that's the sha256sum of an empty file). Also, make sure you have wget installed.
LuaRocks has bad interactions with cURL, at least under FreeBSD, and will die with
a PANIC in LuaJIT when trying to install a rock.</p>
<h4 id="openbsd">OpenBSD</h4>
<div class="highlight"><pre><span></span>doas pkg_add gmake cmake libtool unzip autoconf-2.69p2 automake-1.15p0
export AUTOCONF_VERSION=2.69
export AUTOMAKE_VERSION=1.15
</pre></div>

<p>For older versions of OpenBSD than 6.1, the <code>autoconf-2.69</code> and <code>automake-1.15</code> ports may have different <code>p</code> suffixes.</p>
<p>The build sometimes fails when using the top level Makefile, apparently due to some third-party component <a href="https://github.com/neovim/neovim/issues/2445#issuecomment-108124236">#2445-comment</a>. The following instructions use CMake</p>
<div class="highlight"><pre><span></span>mkdir .deps
cd .deps
cmake ../third-party/
gmake
cd ..
mkdir build
cd build
cmake ..
gmake
</pre></div>

<h4 id="macos">macOS</h4>
<ul>
<li>Install <a href="https://developer.apple.com/">Xcode</a> and <a href="http://brew.sh">Homebrew</a>
  or <a href="http://www.macports.org">MacPorts</a></li>
<li>Install Xcode commandline tools <code>xcode-select --install</code></li>
<li>Install other dependencies:</li>
<li>via MacPorts:
    <div class="highlight"><pre><span></span>sudo port install ninja libtool autoconf automake cmake pkgconfig gettext
</pre></div></li>
<li>via Homebrew:
    <div class="highlight"><pre><span></span>brew install ninja libtool automake cmake pkg-config gettext
</pre></div></li>
<li>If you see <strong>wget certificate errors</strong> (for macOS <em>before</em> version 10.10/Yosemite):</li>
<li>via MacPorts:
    <div class="highlight"><pre><span></span>sudo port install curl-ca-bundle
echo CA_CERTIFICATE=/opt/local/share/curl/curl-ca-bundle.crt &gt;&gt; ~/.wgetrc
</pre></div></li>
<li>via Homebrew:
    <div class="highlight"><pre><span></span>brew install curl-ca-bundle
echo CA_CERTIFICATE=$(brew --prefix curl-ca-bundle)/share/ca-bundle.crt &gt;&gt; ~/.wgetrc
</pre></div></li>
<li>If you see <code>'stdio.h' file not found</code> 
    <div class="highlight"><pre><span></span>open /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg
</pre></div></li>
</ul>
<h5 id="building-for-older-macos-versions">Building for older macOS versions</h5>
<p>To build for older macOS versions, e.g. for 10.13, on a newer macOS, you have to set the macOS deployment target</p>
<div class="highlight"><pre><span></span>make CMAKE_BUILD_TYPE=Release MACOSX_DEPLOYMENT_TARGET=10.13 DEPS_CMAKE_FLAGS=&quot;-DCMAKE_CXX_COMPILER=$(xcrun -find c++)&quot;
</pre></div>

<p>Note that if we do not explicitly set the C++ compiler, the compiler will not be found when the deployment target is set.</p>
<h4 id="cygwin">cygwin</h4>
<p>Install all dependencies the normal way, then build neovim the normal way for a random CMake application (i.e. do not use the <code>Makefile</code> that automatically downloads and builds "bundled" dependencies)</p>
<p>The cygport repo contains cygport files (like APKBUILD, PKGBUILD, etc.) for all the dependencies not available in the cygwin distribution, and describes any special commands or arguments needed to build. the cygport definitions also try to describe the required dependencies for each one.
unless custom commands are provided, cygport just calls autogen/cmake, make, make install, etc. in a clean, consistent way.</p>
<p><a href="https://github.com/cascent/neovim-cygwin">https://github.com/cascent/neovim-cygwin</a> was built on cygwin 2.9.0. Newer libuv should require slightly less patching and some ssp stuff changed in cygwin 2.10.0 so that might change things too when building neovim.</p>
<h4 id="windows-msys2">Windows / MSYS2</h4>
<p>From the MSYS2 shell install these packages</p>
<div class="highlight"><pre><span></span>pacman -S \
    mingw-w64-x86_64-{gcc,libtool,cmake,make,perl,python2,pkg-config,unibilium} \
    gperf
</pre></div>

<p>Now from the windows console (cmd.exe) setup the PATH and build</p>
<div class="highlight"><pre><span></span>set PATH=c:\msys64\mingw64\bin;%PATH%
set CC=gcc
</pre></div>

<p>Build using the <code>MinGW Makefiles</code> generator</p>
<div class="highlight"><pre><span></span>mkdir .deps
cd .deps
cmake  -G &quot;MinGW Makefiles&quot; ..\third-party\
mingw32-make
cd ..
mkdir build
cd build
cmake -G &quot;MinGW Makefiles&quot; -DGPERF_PRG=&quot;C:\msys64\usr\bin\gperf.exe&quot; ..
mingw32-make
</pre></div>

<p>For 32bit builds adjust the package names and paths accordingly.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Architectural-musing-and-ideas/" title="Architectural-musing-and-ideas" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Architectural-musing-and-ideas
              </span>
            </div>
          </a>
        
        
          <a href="../C-programming/" title="C-programming" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                C-programming
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>